<?php
if (session_status() === PHP_SESSION_NONE) {
    session_start();
}

$userCartItemsAmount = $_SESSION['cart_items_count'] ?? 0;
$hasItemsClass = $userCartItemsAmount > 0 ? 'has-items' : '';
?>

<!-- Cart Icon -->
<a href="index.php?page=cart" title="Cart" class="login-btn">
    <svg class="cart-icon <?= $hasItemsClass ?>" width="32" height="28" viewBox="0 0 32 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
            d="M0.0601387 0.436588L4.18306 0.936264L4.47872 4.43624M4.47872 4.43624L17.9142 4.4352L30.3368 4.43427L29.6255 6.68642M4.47872 4.43624L5.04716 8.93659M28.9515 8.93659L29.6255 6.68642M28.9515 8.93659L5.04716 8.93659M28.9515 8.93659L28.2547 11.4366M29.6255 6.68642L4.76294 6.68642M5.04716 8.93659L5.74332 13.9366M28.2547 11.4366L5.39524 11.4366M28.2547 11.4366L27.5472 13.9366M5.74332 13.9366L6.04718 16.4348L26.8319 16.4348L27.5472 13.9366M5.74332 13.9366L27.5472 13.9366"
            stroke="white" />
        <path
            d="M10.5513 17.4387C11.6558 17.4397 12.5496 18.3353 12.5487 19.4385C12.5477 20.5415 11.6525 21.4357 10.5481 21.4348C9.44384 21.4337 8.54989 20.538 8.55069 19.4351C8.55159 18.332 9.44702 17.4379 10.5513 17.4387Z"
            stroke="white" />
        <path
            d="M23.5513 17.4387C24.6558 17.4397 25.5496 18.3353 25.5487 19.4385C25.5477 20.5415 24.6525 21.4357 23.5481 21.4348C22.4438 21.4337 21.5499 20.538 21.5507 19.4351C21.5516 18.332 22.447 17.4379 23.5513 17.4387Z"
            stroke="white" />
    </svg>
    <p class="cart-items-count"> <?= htmlspecialchars($userCartItemsAmount) ?></p>
</a>